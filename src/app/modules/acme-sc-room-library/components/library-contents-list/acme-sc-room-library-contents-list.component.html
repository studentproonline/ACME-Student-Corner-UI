<div fxFlexFill fxLayout="column">
    <!--Progress-->
    <div *ngIf="isProgress" fxFlex fxLayoutAlign="center center">
        <mat-spinner></mat-spinner>
    </div>
    <!--Server Error-->
    <div *ngIf="!isSuccessFull && !isProgress" fxFlexFill fxLayout="column" fxLayoutAlign="center center"
        fxLayoutGap="8px">
        <div fxFlex="90px" fxLayoutAlign="center  center">
            <mat-icon fxLayoutAlign="center center" style="height:48px;width:48px;color:darkorange">
                <svg xmlns="http://www.w3.org/2000/svg" width="48" height="48" viewBox="0 0 24 24">
                    <path d="M1 21h22L12 2 1 21zm12-3h-2v-2h2v2zm0-4h-2v-4h2v4z" />
                </svg>
            </mat-icon>
        </div>
        <div fxFlex="24px" fxLayoutAlign="center center" style="font-size: normal;">
            <span>{{libraryResponseMessage}}</span>
        </div>
    </div>
    <!--Successfull call-->
    <div fxLayout="column" *ngIf="isSuccessFull && !isProgress" fxFlexFill>
        <!--Title row-->
        <div fxFlex="32px">
            <div fxFlexFill fxLayout="row" fxLayoutGap="8px">
                <div fxFlex="80px" fxLayoutAlign="start center" class="acme-sc-topic-title">
                    Library
                </div>
                <!--Icon-->
                <div fxFlex="24px" fxLayoutAlign="start center">
                    <mat-icon fxLayoutAlign="center center" style="height:24px;width:24px" class="acme-cs-mat-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"
                            fill="purple">
                            <path d="M0 0h24v24H0z" fill="none" />
                            <path
                                d="M12 11.55C9.64 9.35 6.48 8 3 8v11c3.48 0 6.64 1.35 9 3.55 2.36-2.19 5.52-3.55 9-3.55V8c-3.48 0-6.64 1.35-9 3.55zM12 8c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3z" />
                        </svg>
                    </mat-icon>
                </div>
                <!--Refresh -->
                <div fxFlex="24px" fxLayoutAlign="start center" (click)="refreshLibraryContent()">
                    <mat-icon matTooltip="Refresh Library contents" fxLayoutAlign="center center"
                        style="height:24px;width:24px" class="acme-cs-mat-icon acme-sc-refresh-icon">
                        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"
                            fill="#000000">
                            <path d="M0 0h24v24H0z" fill="none" />
                            <path
                                d="M17.65 6.35C16.2 4.9 14.21 4 12 4c-4.42 0-7.99 3.58-7.99 8s3.57 8 7.99 8c3.73 0 6.84-2.55 7.73-6h-2.08c-.82 2.33-3.04 4-5.65 4-3.31 0-6-2.69-6-6s2.69-6 6-6c1.66 0 3.14.69 4.22 1.78L13 11h7V4l-2.35 2.35z" />
                        </svg>
                    </mat-icon>
                </div>
                <div fxLayoutAlign="center center" *ngIf="room.status!=='Active'" fxFlex
                    class="acme-sc-room-close-label">
                    <mat-icon matTooltip="Refresh topics list" fxLayoutAlign="center center"
                        style="height:24px;width:24px">
                        <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 0 24 24" width="24px"
                            fill="red">
                            <path
                                d="M12 5.99L19.53 19H4.47L12 5.99M12 2L1 21h22L12 2zm1 14h-2v2h2v-2zm0-6h-2v4h2v-4z" />
                        </svg>
                    </mat-icon>
                    <span>This room is no longer active !!!!</span>
                </div>
                <!-- new library content button-->
                <div *ngIf="roomLibraryContentsList.length > 0 && room.status === 'Active'" fxFlex fxLayoutAlign="end center">
                    <button mat-raised-button color="accent" (click)="uploadNewContent()"
                        class="acme-cs-login-button">upload new content
                    </button>
                </div>
            </div>
        </div>
        <!--content-->
        <div fxFlex style="padding-top:32px">
            <!--Empty List-->
            <div *ngIf="roomLibraryContentsList.length === 0" fxFlexFill fxLayout="column" fxLayoutAlign="center  center"
                fxLayoutGap="8px">
                <div fxFlex="90px" fxLayoutAlign="center  center">
                    <mat-icon class="acme-cs-mat-icon" fxLayoutAlign="center center" style="height:90px;width:90px;">
                        <svg xmlns="http://www.w3.org/2000/svg" height="90px" viewBox="0 0 24 24" width="90px"
                        fill="purple">
                        <path d="M0 0h24v24H0z" fill="none" />
                        <path
                            d="M12 11.55C9.64 9.35 6.48 8 3 8v11c3.48 0 6.64 1.35 9 3.55 2.36-2.19 5.52-3.55 9-3.55V8c-3.48 0-6.64 1.35-9 3.55zM12 8c1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3 1.34 3 3 3z" />
                    </svg>
                    </mat-icon>
                </div>
                <div fxFlex="24px" fxLayoutAlign="center center" style="font-size: normal;">
                    <span>There is no library content available, upload new content.</span>
                </div>
                <div *ngIf="room && room.status ==='Active'" fxFlex="48px" fxLayoutAlign="center start">
                    <button mat-raised-button color="accent" (click)="uploadNewContent()" class="acme-cs-login-button">Upload
                        new content
                    </button>
                </div>
            </div>
            <!--non empty list-->
            <div *ngIf="roomLibraryContentsList.length > 0" fxFlexFill fxLayout="column" fxLayoutGap="8px">
                <div fxLayout="column" fxFlexFill>
                    <ng-scrollbar thumbClass="white-scrollbars">
                        <div fxLayout="column" fxFlexFill fxLayoutGap="8px">
                            <acme-sc-room-library-content *ngFor="let libraryContent of filteredroomLibraryContentsList"
                             [libraryContent]="libraryContent" [roomOwner]="room.email"
                             (contentDeleted)="libraryContentDeleted($event)">

                            </acme-sc-room-library-content>
                        </div>
                    </ng-scrollbar>
                </div>
            </div>
        </div>
    </div>
</div>