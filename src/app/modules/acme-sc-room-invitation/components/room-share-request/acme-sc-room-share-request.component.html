<div fxFlexFill fxLayout="column" class="acme-cs-display-box">
    <div fxFlex="16vh" fxFill>
        <div fxFlexFill fxLayout="row" fxFill fxLayoutGap="0.4vw">
            <div fxFlex="20vw" fxFill class="acme-sc-custom-company-header">
                <acme-sc-company-header></acme-sc-company-header>
            </div>
            <div class="acme-cs-heading acme-sc-custom-title-heading" fxFlex fxFill fxLayoutAlign="center center">
                <span style="padding-right: 20vw;">Let's Share and Learn</span>
            </div>
        </div>
    </div>
    <div fxFlex fxFill fxLayoutAlign="center center">
        <div fxFlexFill fxLayout="column" fxLayoutAlign="center center" fxLayoutGap="1vh">
            <!--progress-->
            <div *ngIf="isProgress" fxFlex="10vh" fxFill fxLayoutAlign="center center">
                <mat-spinner></mat-spinner>
            </div>
              <!--server error-->
            <div *ngIf="!isProgress && !isSuccessFull" fxFlex fxLayoutAlign="center center">
                <acme-sc-server-error [errorMessage]="invitationResponseMessage"></acme-sc-server-error>
            </div>
            <div *ngIf="isProgress" fxFlex="10vh" fxFill fxLayoutAlign="center center">
                <span class="acme-sc-activation-message-label">Sending request for room share....</span>
            </div>
            <!--success-->
            <div *ngIf="!isProgress && isSuccessFull" fxFlex="10vh" fxLayoutAlign="center center">
                <div fxFlex="5vh" fxFill fxLayoutAlign="center center">
                    <div class="acme-sc-background-circle" fxLayoutAlign="center center">
                        <svg class="acme-ac-default-svg-small" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
                            <path d="M0 0h24v24H0V0z" fill="none" />
                            <path
                                d="M12.5 10c0-1.65-1.35-3-3-3s-3 1.35-3 3 1.35 3 3 3 3-1.35 3-3zm-3 1c-.55 0-1-.45-1-1s.45-1 1-1 1 .45 1 1-.45 1-1 1zm6.5 2c1.11 0 2-.89 2-2 0-1.11-.89-2-2-2-1.11 0-2.01.89-2 2 0 1.11.89 2 2 2zM11.99 2.01c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10zM5.84 17.12c.68-.54 2.27-1.11 3.66-1.11.07 0 .15.01.23.01.24-.64.67-1.29 1.3-1.86-.56-.1-1.09-.16-1.53-.16-1.3 0-3.39.45-4.73 1.43-.5-1.04-.78-2.2-.78-3.43 0-4.41 3.59-8 8-8s8 3.59 8 8c0 1.2-.27 2.34-.75 3.37-1-.59-2.36-.87-3.24-.87-1.52 0-4.5.81-4.5 2.7v2.78c-2.27-.13-4.29-1.21-5.66-2.86z" />
                        </svg>
                    </div>
                </div>
            </div>
            
            <div *ngIf="!isProgress && isSuccessFull" fxFlex="5vh" fxLayoutAlign="center center">
                <span class="acme-sc-activation-message-label">{{invitationResponseMessage}}</span>
            </div>
            <div class="acme-sc-account-email-label" fxFlex="5vh" fxLayoutAlign="center center">
                <span class="acme-sc-activation-message-label">Please provide your details</span>
            </div>
            <div fxFlex="20vh">
                <form [formGroup]="sendRequestFormGroup">
                    <div fxFlexFill fxLayout="column" fxLayoutAlign="center center">
                        <div fxFlex>
                            <!--Email-->
                            <mat-form-field class="form-field acme-form-input-field" style="width:32.5vw">
                                <mat-label class="acme-form-input-field">
                                    <mat-icon class="acme-cs-mat-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" height="100%"
                                            width="100%">
                                            <path
                                                d="M20 4H4c-1.1 0-1.99.9-1.99 2L2 18c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 4l-8 5-8-5V6l8 5 8-5v2z" />
                                            <path d="M0 0h24v24H0z" fill="none" />
                                        </svg>
                                    </mat-icon>
                                    Email
                                </mat-label>
                                <input class="acme-form-input-field" required matInput placeholder="Email"
                                    formControlName="emailControl" autocomplete="off">
                                <mat-error class="acme-form-input-field"
                                    *ngIf="sendRequestFormGroup.controls['emailControl'].errors?.email">
                                    Please enter a valid email address
                                </mat-error>
                                <mat-error class="acme-form-input-field"
                                    *ngIf="sendRequestFormGroup.controls['emailControl'].errors?.required">
                                    Email is <strong>required</strong>
                                </mat-error>
                            </mat-form-field>
                        </div>
                        <div fxFlex>
                            <!--Name-->
                            <mat-form-field class="form-field acme-form-input-field" style="width:32.5vw">
                                <mat-label class="acme-form-input-field">
                                    <mat-icon class="acme-cs-mat-icon">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="100%" viewBox="0 0 24 24"
                                            width="100%" fill="#000000">
                                            <path d="M0 0h24v24H0V0z" fill="none" />
                                            <path
                                                d="M12 6c1.1 0 2 .9 2 2s-.9 2-2 2-2-.9-2-2 .9-2 2-2m0 10c2.7 0 5.8 1.29 6 2H6c.23-.72 3.31-2 6-2m0-12C9.79 4 8 5.79 8 8s1.79 4 4 4 4-1.79 4-4-1.79-4-4-4zm0 10c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4z" />
                                        </svg>
                                    </mat-icon>
                                    Nick Name
                                </mat-label>
                                <input class="acme-form-input-field" required matInput placeholder="Nick Name"
                                    formControlName="nameControl" autocomplete="off">
                                <mat-error class="acme-form-input-field" *ngIf="sendRequestFormGroup.controls['nameControl'].errors?.required ||
                                    sendRequestFormGroup.controls['nameControl'].errors?.whiteSpace">
                                    Name is <strong>required</strong>
                                </mat-error>
                            </mat-form-field>
                        </div>
                    </div>
                </form>
            </div>

            <div *ngIf="!isProgress" fxFlex="7vh" fxLayoutAlign="center center">
                <button mat-raised-button color="accent" (click)="sendRequest()"
                    class="acme-sc-button acme-cs-share-button" [disabled]="!sendRequestFormGroup.controls['emailControl'].valid ||
                    !sendRequestFormGroup.controls['nameControl'].valid || isProgress===true">
                    Send request to join room
                </button>
            </div>

            <div *ngIf="!isProgress" fxFlex="5vh" class="acme-sc-get-room-details-label" fxLayoutAlign="center center"
                (click)="getRoomDetails()">
                <span>Get room details</span>
            </div>

            <div *ngIf="!isProgress" fxFlex="5vh" fxLayoutAlign="center center">
                <span class="acme-sc-activation-message-label"><b>Note:</b></span>
                <span class="acme-sc-activation-message-label">Please create an account in A.C.M.E. Student Corner if
                    not already done.</span>
            </div>
        </div>
    </div>
</div>